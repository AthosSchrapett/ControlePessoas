<h2 mat-dialog-title>
  <div class="title-content">
    <mat-icon>{{ isEdit ? 'edit' : 'person_add' }}</mat-icon>
    <span>{{ isEdit ? 'Editar Pessoa' : 'Nova Pessoa' }}</span>
  </div>
</h2>

<mat-dialog-content>
  <form [formGroup]="pessoaForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="outline">
      <mat-label>Nome</mat-label>
      <mat-icon matPrefix>person</mat-icon>
      <input matInput formControlName="nome" placeholder="Digite o nome">
      @if (pessoaForm.get('nome')?.invalid && pessoaForm.get('nome')?.touched) {
        <mat-error>{{ getErrorMessage('nome') }}</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Idade</mat-label>
      <mat-icon matPrefix>calendar_today</mat-icon>
      <input matInput type="number" formControlName="idade" placeholder="Digite a idade">
      @if (pessoaForm.get('idade')?.invalid && pessoaForm.get('idade')?.touched) {
        <mat-error>{{ getErrorMessage('idade') }}</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Sexo</mat-label>
      <mat-icon matPrefix>wc</mat-icon>
      <mat-select formControlName="sexo" placeholder="Selecione o sexo">
        <mat-option value="M">
          <mat-icon>male</mat-icon>
          <span>Masculino</span>
        </mat-option>
        <mat-option value="F">
          <mat-icon>female</mat-icon>
          <span>Feminino</span>
        </mat-option>
      </mat-select>
      @if (pessoaForm.get('sexo')?.invalid && pessoaForm.get('sexo')?.touched) {
        <mat-error>{{ getErrorMessage('sexo') }}</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Peso (kg)</mat-label>
      <mat-icon matPrefix>fitness_center</mat-icon>
      <input matInput type="number" formControlName="peso" placeholder="Digite o peso">
      @if (pessoaForm.get('peso')?.invalid && pessoaForm.get('peso')?.touched) {
        <mat-error>{{ getErrorMessage('peso') }}</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Altura (m)</mat-label>
      <mat-icon matPrefix>straighten</mat-icon>
      <input matInput type="number" formControlName="altura" placeholder="Digite a altura">
      @if (pessoaForm.get('altura')?.invalid && pessoaForm.get('altura')?.touched) {
        <mat-error>{{ getErrorMessage('altura') }}</mat-error>
      }
    </mat-form-field>

    <mat-dialog-actions align="end">
      <button type="button" mat-stroked-button class="cancel-button" (click)="onCancel()" cdkFocusInitial>
        <mat-icon>close</mat-icon>
        Cancelar
      </button>
      <button type="submit" mat-flat-button color="primary" class="confirm-button" [disabled]="!pessoaForm.valid">
        <mat-icon>{{ isEdit ? 'save' : 'add' }}</mat-icon>
        {{ isEdit ? 'Atualizar' : 'Salvar' }}
      </button>
    </mat-dialog-actions>
  </form>
</mat-dialog-content>
